<!DOCTYPE html>
<html>
  <head>
    <title>hp : Haskell Profile Viewer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="hp.css" rel="stylesheet" type="text/css" />
    <script src="original.js"></script>
    <script src="http://d3js.org/d3.v2.js"></script>
    <script src="hp.js"></script>
  </head>
  <body>
<script>
chart([0, n-1], "linear", function tick(path, line, data, x) {

  //return; // XXX disable temporarily

  // push a new data point onto the back
  data.push([0.0, random()]);

  // redraw the line, and then slide it to the left
  path
      .attr("d", line)
      .attr("transform", null)
      .transition()
      .duration(750)
      .ease("linear")
      .attr("transform", "translate(" + x(-1) + ")") // this trick only works if x has range [0, something]
      .each("end", function() { tick(path, line, data, x); }); // keep 'er going

  // pop the old data point off the front
  data.shift();

});
</script>
  </body>
</html>
